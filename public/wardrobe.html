<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的电子衣柜</title>
    <link rel="stylesheet" href="https://unpkg.com/tdesign-web@1.9.7/dist/tdesign.min.css">
    <link rel="stylesheet" href="wardrobe-style.css">
</head>

<body>
    <div class="app-container">
        <!-- 侧边栏导航 -->
        <aside class="sidebar">
            <div class="logo-section">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="4" y="3" width="16" height="18" rx="2" stroke="currentColor" stroke-width="2" />
                    <path d="M4 8H20M9 3V8M15 3V8" stroke="currentColor" stroke-width="2" />
                    <circle cx="9" cy="13" r="1" fill="currentColor" />
                    <circle cx="15" cy="13" r="1" fill="currentColor" />
                </svg>
                <h1 class="logo-text">我的衣柜</h1>
            </div>

            <nav class="nav-menu">
                <div class="nav-item active" data-tab="all">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                        <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                        <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                        <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>全部衣物</span>
                </div>

                <div class="nav-item" data-tab="tops">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <path d="M4 7L8 4L12 7L16 4L20 7V20H4V7Z" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>上装</span>
                </div>

                <div class="nav-item" data-tab="bottoms">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <path d="M6 4H18V12L15 20H9L6 12V4Z" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>下装</span>
                </div>

                <div class="nav-item" data-tab="dresses">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <path d="M8 4H16L18 8V20H6V8L8 4Z" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>连衣裙</span>
                </div>

                <div class="nav-item" data-tab="outerwear">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <path d="M4 6L8 3L12 6L16 3L20 6V21H4V6Z" stroke="currentColor" stroke-width="2" />
                        <path d="M8 10H16" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>外套</span>
                </div>

                <div class="nav-item" data-tab="accessories">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" />
                        <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>配饰鞋包</span>
                </div>

                <div class="nav-item" data-tab="statistics">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="none">
                        <path d="M3 3V21H21" stroke="currentColor" stroke-width="2" />
                        <path d="M7 16V11M12 16V8M17 16V13" stroke="currentColor" stroke-width="2" />
                    </svg>
                    <span>衣柜统计</span>
                </div>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 全部衣物页面 -->
            <div class="tab-content active" id="all-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">全部衣物</h2>
                        <p class="page-subtitle">管理你的所有服装单品</p>
                    </div>
                    <button class="btn-primary" id="add-item-btn">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加衣物
                    </button>
                </div>

                <div class="filter-bar">
                    <div class="t-input-group search-box">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none">
                            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" />
                            <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" />
                        </svg>
                        <input type="text" class="t-input" placeholder="搜索衣物名称、品牌、颜色..." id="search-input">
                    </div>

                    <div class="filter-group">
                        <select class="t-select" id="category-filter">
                            <option value="">全部类型</option>
                            <option value="tops">上装</option>
                            <option value="bottoms">下装</option>
                            <option value="dresses">连衣裙</option>
                            <option value="outerwear">外套</option>
                            <option value="accessories">配饰鞋包</option>
                        </select>

                        <select class="t-select" id="season-filter">
                            <option value="">全部季节</option>
                            <option value="spring">春季</option>
                            <option value="summer">夏季</option>
                            <option value="autumn">秋季</option>
                            <option value="winter">冬季</option>
                            <option value="all-season">四季</option>
                        </select>

                        <select class="t-select" id="color-filter">
                            <option value="">全部颜色</option>
                            <option value="black">黑色</option>
                            <option value="white">白色</option>
                            <option value="gray">灰色</option>
                            <option value="blue">蓝色</option>
                            <option value="red">红色</option>
                            <option value="pink">粉色</option>
                            <option value="green">绿色</option>
                            <option value="yellow">黄色</option>
                            <option value="brown">棕色</option>
                            <option value="purple">紫色</option>
                            <option value="other">其他</option>
                        </select>
                    </div>
                </div>

                <div class="items-grid" id="items-grid">
                    <!-- 衣物卡片将通过 JS 动态生成 -->
                </div>
            </div>

            <!-- 分类页面(上装、下装等) -->
            <div class="tab-content" id="tops-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">上装</h2>
                        <p class="page-subtitle">T恤、衬衫、毛衣等上装单品</p>
                    </div>
                    <button class="btn-primary" onclick="openAddDialog('tops')">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加上装
                    </button>
                </div>
                <div class="items-grid" id="tops-grid"></div>
            </div>

            <div class="tab-content" id="bottoms-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">下装</h2>
                        <p class="page-subtitle">裤子、裙子、短裤等下装单品</p>
                    </div>
                    <button class="btn-primary" onclick="openAddDialog('bottoms')">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加下装
                    </button>
                </div>
                <div class="items-grid" id="bottoms-grid"></div>
            </div>

            <div class="tab-content" id="dresses-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">连衣裙</h2>
                        <p class="page-subtitle">各式连衣裙单品</p>
                    </div>
                    <button class="btn-primary" onclick="openAddDialog('dresses')">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加连衣裙
                    </button>
                </div>
                <div class="items-grid" id="dresses-grid"></div>
            </div>

            <div class="tab-content" id="outerwear-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">外套</h2>
                        <p class="page-subtitle">大衣、夹克、羽绒服等外套单品</p>
                    </div>
                    <button class="btn-primary" onclick="openAddDialog('outerwear')">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加外套
                    </button>
                </div>
                <div class="items-grid" id="outerwear-grid"></div>
            </div>

            <div class="tab-content" id="accessories-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">配饰鞋包</h2>
                        <p class="page-subtitle">鞋子、包包、首饰等配饰单品</p>
                    </div>
                    <button class="btn-primary" onclick="openAddDialog('accessories')">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" />
                        </svg>
                        添加配饰
                    </button>
                </div>
                <div class="items-grid" id="accessories-grid"></div>
            </div>

            <!-- 统计页面 -->
            <div class="tab-content" id="statistics-tab">
                <div class="page-header">
                    <div class="header-left">
                        <h2 class="page-title">衣柜统计</h2>
                        <p class="page-subtitle">了解你的衣柜构成和使用情况</p>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <svg viewBox="0 0 24 24" fill="none">
                                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor"
                                    stroke-width="2" />
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4 class="stat-label">衣物总数</h4>
                            <p class="stat-value" id="total-items">0</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M12 2L15 8L22 9L17 14L18 21L12 18L6 21L7 14L2 9L9 8L12 2Z"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4 class="stat-label">最贵单品</h4>
                            <p class="stat-value" id="most-worn">-</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <svg viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                                <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" />
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4 class="stat-label">本月新增</h4>
                            <p class="stat-value" id="month-added">0</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M20 7L12 3L4 7M20 7L12 11M20 7V17L12 21M12 11L4 7M12 11V21M4 7V17L12 21"
                                    stroke="currentColor" stroke-width="2" />
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4 class="stat-label">主流颜色</h4>
                            <p class="stat-value" id="main-color">-</p>
                        </div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-card">
                        <h3 class="chart-title">类别分布</h3>
                        <div class="chart-content" id="category-chart">
                            <div class="chart-placeholder">暂无数据</div>
                        </div>
                    </div>

                    <div class="chart-card">
                        <h3 class="chart-title">颜色分布</h3>
                        <div class="chart-content" id="color-chart">
                            <div class="chart-placeholder">暂无数据</div>
                        </div>
                    </div>
                </div>

                <div class="chart-card full-width">
                    <h3 class="chart-title">季节适用性</h3>
                    <div class="chart-content" id="season-chart">
                        <div class="chart-placeholder">暂无数据</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 添加衣物对话框 -->
    <div class="t-dialog" id="add-item-dialog">
        <div class="t-dialog-mask"></div>
        <div class="t-dialog-wrapper">
            <div class="t-dialog-container">
                <div class="t-dialog-header">
                    <h3>添加衣物</h3>
                    <button class="t-dialog-close" onclick="closeDialog('add-item-dialog')">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" />
                        </svg>
                    </button>
                </div>
                <div class="t-dialog-body">
                    <form id="item-form">
                        <div class="form-group">
                            <label class="form-label">照片</label>
                            <div class="upload-area" id="upload-area">
                                <input type="file" class="file-input" id="item-image-file" accept="image/*">
                                <div class="upload-placeholder">
                                    <svg class="upload-icon" viewBox="0 0 24 24" fill="none">
                                        <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15"
                                            stroke="currentColor" stroke-width="2" />
                                        <path d="M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" />
                                    </svg>
                                    <p class="upload-text">点击或拖拽上传图片</p>
                                    <p class="upload-hint">支持 JPG、PNG、GIF 格式</p>
                                </div>
                                <div class="image-preview" id="image-preview" style="display: none;">
                                    <img id="preview-img" alt="预览">
                                    <button type="button" class="remove-image" onclick="removeImage()">
                                        <svg viewBox="0 0 24 24" fill="none">
                                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">名称 *</label>
                            <input type="text" class="t-input" id="item-name" placeholder="如: 白色衬衫" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">类别 *</label>
                                <select class="t-select" id="item-category" required>
                                    <option value="">请选择</option>
                                    <option value="tops">上装</option>
                                    <option value="bottoms">下装</option>
                                    <option value="dresses">连衣裙</option>
                                    <option value="outerwear">外套</option>
                                    <option value="accessories">配饰鞋包</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">颜色 *</label>
                                <select class="t-select" id="item-color" required>
                                    <option value="">请选择</option>
                                    <option value="black">黑色</option>
                                    <option value="white">白色</option>
                                    <option value="gray">灰色</option>
                                    <option value="blue">蓝色</option>
                                    <option value="red">红色</option>
                                    <option value="pink">粉色</option>
                                    <option value="green">绿色</option>
                                    <option value="yellow">黄色</option>
                                    <option value="brown">棕色</option>
                                    <option value="purple">紫色</option>
                                    <option value="other">其他</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">品牌</label>
                                <input type="text" class="t-input" id="item-brand" placeholder="如: UNIQLO">
                            </div>

                            <div class="form-group">
                                <label class="form-label">价格</label>
                                <input type="number" class="t-input" id="item-price" placeholder="如: 199">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">适用季节</label>
                            <div class="season-checkboxes">
                                <label class="checkbox-label">
                                    <input type="checkbox" value="spring" class="season-checkbox"> 春季
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="summer" class="season-checkbox"> 夏季
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="autumn" class="season-checkbox"> 秋季
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="winter" class="season-checkbox"> 冬季
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" value="all-season" class="season-checkbox"> 四季
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">购买日期</label>
                            <input type="date" class="t-input" id="item-purchase-date">
                        </div>

                        <div class="form-group">
                            <label class="form-label">购买平台</label>
                            <input type="text" class="t-input" id="item-platform" placeholder="如: 淘宝、京东、线下门店">
                        </div>

                        <div class="form-group">
                            <label class="form-label">备注</label>
                            <textarea class="t-textarea" id="item-notes" rows="3"
                                placeholder="记录衣物特点、搭配建议等..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="t-dialog-footer">
                    <button class="btn-secondary" onclick="closeDialog('add-item-dialog')">取消</button>
                    <button class="btn-primary" onclick="saveItem()">保存</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 查看详情对话框 -->
    <div class="t-dialog" id="view-detail-dialog">
        <div class="t-dialog-mask"></div>
        <div class="t-dialog-wrapper">
            <div class="t-dialog-container large">
                <div class="t-dialog-header">
                    <h3 id="detail-title">衣物详情</h3>
                    <button class="t-dialog-close" onclick="closeDialog('view-detail-dialog')">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" />
                        </svg>
                    </button>
                </div>
                <div class="t-dialog-body" id="detail-content">
                    <!-- 动态内容 -->
                </div>
                <div class="t-dialog-footer">
                    <button class="btn-danger" id="delete-btn">删除</button>
                    <button class="btn-secondary" onclick="closeDialog('view-detail-dialog')">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/tdesign-web@1.9.7/dist/tdesign.min.js"></script>
    <script src="wardrobe-script.js"></script>
</body>

</html>